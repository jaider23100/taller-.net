<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <title>Calculations</title>
</head>

<body>

    <main>
        <div class="container mt-5">
            <h2 class="mb-4">Formulario de Producto</h2>
            <div>
                <div class="mb-3">
                    <label for="_id" class="form-label">ID</label>
                    <input type="text" class="form-control" id="_id" placeholder="Ingrese el ID del Producto">
                </div>
                <div class="mb-3">
                    <label for="name" class="form-label">Nombre</label>
                    <input type="text" class="form-control" id="name" placeholder="Ingrese el Nombre del Producto"
                        required>
                </div>
                <div class="mb-3">
                    <label for="description" class="form-label">Descripcion</label>
                    <textarea class="form-control" id="description" rows="3"
                        placeholder="Ingrese la descripcion del producto" required></textarea>
                </div>
                <div class="mb-3">
                    <label for="price" class="form-label">Precio</label>
                    <input type="number" step="0.01" class="form-control" id="price"
                        placeholder="Ingrese el precio del producto" required>
                </div>
                <div class="mb-3"></div>
                <label for="stock" class="form-label">Stock</label>
                <input type="number" class="form-control" id="stock" placeholder="Ingrese el stock del producto"
                    required>
            </div>
            <div class="mb-3">
                <label for="category" class="form-label">Categoria</label>
                <input type="text" class="form-control" id="category" placeholder="Ingrese la categoria del producto"
                    required>

            </div>
            <a href="table.html" class="btn btn-dark">Cancelar</a>
            <button type="submit" class="btn btn-primary" onclick="saveProduct()">Guardar producto</button>
        </div>
        </div>



    </main>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>
    <script>


        async function saveProduct() {

            const result = await postData("https://localhost:7060/products", {
                name: document.getElementById("name").value,
                description: document.getElementById("description").value,
                price: document.getElementById("price").value,
                stock: document.getElementById("stock").value,
                category: document.getElementById("category").value
            });

            alert(result)

        }

        async function postData(url = '', data = {}) {
            const response = await fetch(url, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(data)



            });
            return response.json();
        }


    </script>

</body>

</html>